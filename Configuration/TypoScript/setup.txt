# Fluid-Template path for mediaconsent content element
lib.contentElement {
   templateRootPaths {
      200 = EXT:mediaconsent/Resources/Private/Templates/
   }
}

# Rendering Definition for mediaconsent content element
tt_content {
   mediaconsent_cns =< lib.contentElement
   mediaconsent_cns {
      templateName = Mediaconsent_cns.html
      dataProcessing {
        1 = ArbkomEKvW\mediaconsent\DataProcessing\MediaconsentCnsProcessor
        1 {
            reloadPageType = {$plugin.tx_mediaconsent.settings.reloadPageType}
        }
      }
   }
}


# Special Page type for reloading content element
rldPage = PAGE
rldPage {
    typeNum = {$plugin.tx_mediaconsent.settings.reloadPageType}

    config {
        disableAllHeaderCode = 1
        no_cache = 1
        debug = 0
    }

    10 = COA_INT
    10 {
        10 = CONTENT
        10 {
            table = tt_content
            select {
                uidInList.stdWrap.cObject = TEXT
                uidInList.stdWrap.cObject {
                    intval = 1
                    data = GP:mediaconsent_item
                }
            }
        }
    }
}

# Include jQuery. Assumes "page" as name for top level PAGE Object
[globalVar = LIT:1 = {$plugin.tx_mediaconsent.settings.loadJQuery}]
page.includeJSFooterlibs.jquery = EXT:mediaconsent/Resources/Public/js/jquery.min.js
[end]